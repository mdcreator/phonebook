{"version":3,"sources":["components/Filter/Filter.module.css","components/ContactList/ContactList.module.css","components/Container/Container.module.css","redux/contacts/contacts-actions.js","services/api.js","redux/contacts/contacts-operations.js","redux/contacts/contacts-reducer.js","redux/store.js","components/ContactForm/ContactForm.js","redux/contacts/contacts-selectors.js","components/ContactList/ContactList.js","components/Filter/Filter.js","components/Container/Container.js","App.js","index.js","components/ContactForm/ContactForm.module.css"],"names":["module","exports","changeFilter","createAction","fetchContacts","a","axios","get","data","addContact","contact","post","deleteContact","id","delete","defaults","baseURL","createAsyncThunk","_","rejectWithValue","Api","contacts","postContact","postedContact","items","createReducer","fulfilled","payload","state","filter","isLoading","pending","rejected","error","combineReducers","midlewareCFG","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","middleware","getDefaultMiddleware","store","configureStore","reducer","contactsReducer","devTools","process","ContactForm","useState","name","setName","number","setNumber","dispatch","useDispatch","className","s","form","onSubmit","e","preventDefault","alert","formField","formLabel","formInput","type","placeholder","value","onChange","target","trimLeft","getFilter","getLoading","getVisibleContacts","createSelector","toLowerCase","includes","ContactList","useSelector","useEffect","contactList","map","onClick","Filter","filterLabel","filterInput","trim","Container","children","container","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d4a9257d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__XJuVa\",\"filterLabel\":\"Filter_filterLabel__3qaFM\",\"filterInput\":\"Filter_filterInput__2TzxH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactList\":\"ContactList_contactList__2rvL3\",\"contact\":\"ContactList_contact__3gs2E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1bd6h\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'http://localhost:4040';\r\n\r\nexport async function fetchContacts() {\r\n  const { data } = await axios.get(`/contacts`);\r\n  return data;\r\n}\r\n\r\nexport async function addContact(contact) {\r\n  const { data } = await axios.post('/contacts', contact);\r\n  return data;\r\n}\r\n\r\nexport async function deleteContact(id) {\r\n  await axios.delete(`/contacts/${id}`);\r\n}\r\n","import * as Api from '../../services/api';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await Api.fetchContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const postContact = createAsyncThunk(\r\n  'contacts/postContact',\r\n  async (data, { rejectWithValue }) => {\r\n    try {\r\n      const postedContact = await Api.addContact(data);\r\n      return postedContact;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await Api.deleteContact(id);\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport { changeFilter } from './contacts-actions';\r\nimport {\r\n  fetchContacts,\r\n  postContact,\r\n  deleteContact,\r\n} from './contacts-operations';\r\n\r\nconst items = createReducer([], {\r\n  [fetchContacts.fulfilled]: (_, { payload }) => payload,\r\n  [postContact.fulfilled]: (state, { payload }) => [...state, payload],\r\n  [deleteContact.fulfilled]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isLoading = createReducer(false, {\r\n  [fetchContacts.pending]: () => true,\r\n  [fetchContacts.fulfilled]: () => false,\r\n  [fetchContacts.rejected]: () => false,\r\n  [postContact.pending]: () => true,\r\n  [postContact.fulfilled]: () => false,\r\n  [postContact.rejected]: () => false,\r\n  [deleteContact.pending]: () => true,\r\n  [deleteContact.fulfilled]: () => false,\r\n  [deleteContact.rejected]: () => false,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [fetchContacts.rejected]: (_, { payload }) => payload,\r\n  [fetchContacts.pending]: () => null,\r\n  [postContact.rejected]: (_, { payload }) => payload,\r\n  [postContact.pending]: () => null,\r\n  [deleteContact.rejected]: (_, { payload }) => payload,\r\n  [deleteContact.pending]: () => null,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  isLoading,\r\n  error,\r\n});\r\n","import contactsReducer from './contacts/contacts-reducer';\r\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\n\r\nconst midlewareCFG = {\r\n  serializableCheck: {\r\n    ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n  },\r\n};\r\n\r\nlet middleware = getDefaultMiddleware(midlewareCFG);\r\nif (process.env.NODE_ENV === 'development') {\r\n  middleware = [...getDefaultMiddleware(midlewareCFG), logger];\r\n}\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n  },\r\n  devTools: process.env.NODE_ENV === 'development',\r\n  middleware,\r\n});\r\n","import { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { postContact } from '../../redux/contacts/contacts-operations';\r\n\r\nimport s from './ContactForm.module.css';\r\n\r\nexport default function ContactForm() {\r\n  const [name, setName] = useState('');\r\n  const [number, setNumber] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const handleNameChange = ({ target }) => {\r\n    setName(target.value.trimLeft());\r\n  };\r\n\r\n  const handleNumberChange = ({ target }) => {\r\n    setNumber(target.value.trimLeft());\r\n  };\r\n\r\n  const handleOnSubmit = e => {\r\n    e.preventDefault();\r\n    if (name === '') {\r\n      alert('Please add name');\r\n      return;\r\n    }\r\n    if (number === '') {\r\n      alert('Please add phone number');\r\n      return;\r\n    }\r\n    dispatch(postContact({ name, number }));\r\n    setName('');\r\n    setNumber('');\r\n  };\r\n\r\n  return (\r\n    <form className={s.form} onSubmit={handleOnSubmit}>\r\n      <div className={s.formField}>\r\n        <label className={s.formLabel}>Name</label>\r\n        <input\r\n          className={s.formInput}\r\n          type=\"text\"\r\n          placeholder=\"Rosie Simpson\"\r\n          name=\"name\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n        />\r\n      </div>\r\n\r\n      <div className={s.formField}>\r\n        <label className={s.formLabel}>Number</label>\r\n        <input\r\n          className={s.formInput}\r\n          type=\"text\"\r\n          placeholder=\"459-12-56\"\r\n          name=\"number\"\r\n          value={number}\r\n          onChange={handleNumberChange}\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\">Add contact</button>\r\n    </form>\r\n  );\r\n}\r\n","import { createSelector } from '@reduxjs/toolkit';\r\n\r\nexport const getContacts = state => state.contacts.items;\r\n\r\nexport const getFilter = state => state.contacts.filter;\r\n\r\nexport const getLoading = state => state.contacts.isLoading;\r\n\r\nexport const getVisibleContacts = createSelector(\r\n  [getContacts, getFilter],\r\n  (contacts, filter) => {\r\n    return contacts.filter(contact =>\r\n      contact.name.toLowerCase().includes(filter.toLowerCase()),\r\n    );\r\n  },\r\n);\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport {\r\n  deleteContact,\r\n  fetchContacts,\r\n} from '../../redux/contacts/contacts-operations';\r\nimport {\r\n  getVisibleContacts,\r\n  getLoading,\r\n} from '../../redux/contacts/contacts-selectors';\r\n\r\nimport s from './ContactList.module.css';\r\n\r\nexport default function ContactList() {\r\n  const isLoading = useSelector(getLoading);\r\n  const contacts = useSelector(getVisibleContacts);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchContacts());\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? <h2>Loading...</h2> : <h2>Contacts list:</h2>}\r\n      <ul className={s.contactList}>\r\n        {contacts.map(({ id, name, number }) => {\r\n          return (\r\n            <li className={s.contact} key={id}>\r\n              <p>\r\n                {name} : {number}\r\n              </p>\r\n              <button type=\"button\" onClick={() => dispatch(deleteContact(id))}>\r\n                Delete\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport { changeFilter } from '../../redux/contacts/contacts-actions';\r\nimport { getFilter } from '../../redux/contacts/contacts-selectors';\r\n\r\nimport s from './Filter.module.css';\r\n\r\nexport default function Filter() {\r\n  const filter = useSelector(getFilter);\r\n  const dispatch = useDispatch();\r\n\r\n  const onChange = ({ target }) => {\r\n    dispatch(changeFilter(target.value.trim()));\r\n  };\r\n\r\n  return (\r\n    <div className={s.filter}>\r\n      <label className={s.filterLabel}>Find contacts by name</label>\r\n      <input\r\n        className={s.filterInput}\r\n        type=\"text\"\r\n        value={filter}\r\n        onChange={onChange}\r\n      ></input>\r\n    </div>\r\n  );\r\n}\r\n","import s from './Container.module.css';\r\n\r\nfunction Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n\r\nexport default Container;","import ContactForm from './components/ContactForm';\r\nimport ContactList from './components/ContactList';\r\nimport Filter from './components/Filter';\r\n\r\nimport Container from './components/Container';\r\n\r\nexport default function App() {\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <h1>Phonebook</h1>\r\n        <ContactForm />\r\n\r\n        <h2>Contacts</h2>\r\n        <Filter />\r\n        <ContactList />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { store } from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__wLmhf\",\"formField\":\"ContactForm_formField__73Crk\",\"formInput\":\"ContactForm_formInput__2Rufd\",\"formLabel\":\"ContactForm_formLabel__tgwy1\"};"],"sourceRoot":""}